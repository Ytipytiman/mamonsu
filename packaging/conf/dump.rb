require 'nokogiri'; data = File.read('template.xml'); doc = Nokogiri::XML(data); doc.xpath('//item').each {|e|  item_doc = Nokogiri::XML(e.to_s); name = item_doc.xpath('//name').to_s; key = item_doc.xpath('//key').to_s; puts "'#{name}': #{key}".sub('<key>', '').sub('</key>','').sub('<name>','').sub('</name>', '').sub('<name>App-PostgresPro-Linux</name>','') if name != "" }
